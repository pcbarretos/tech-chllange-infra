name: "Infra Developer"

on:
  push:
    branches:
    - developer
    paths:
    - terraform/**
  pull_request:
    branches:
    - developer
    paths:
    - terraform/**

env:
  TF_WORKSPACE: "dev"
  aws-region: "us-east-1"

permissions:
  contents: read
  id-token: write
  pull-requests: write

jobs:
  Deploy:
    uses: ./.github/workflows/action.yaml
    with:          
      aws-assume-role-arn: ${{ vars.AWS_ASSUME_ROLE_ARN }}
      environment: "dev"
     